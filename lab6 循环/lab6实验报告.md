# lab6实验报告

> 19231235 赵晰莹

[TOC]

## 修改或新增part

### 语义分析

> process.py

总体而言，在语义分析部分建立与`if`地位相同的判断函数`conditionBProcess()`，再对其它函数出现的细节稍加修改；

例如，此时`if`和`while`的执行语句都变成了四种，除了lab4中所说的三种外，还新增了单独出现的`while`语句；

`if`和`while`的输出差别包括：`if`语句在执行语句结束后，会直接跳出；而`while`语句会返回条件语句，所以在条件语句判断前需要保留`bid`以方便跳转；

对于`while`语句的延申——`continue`和`break`，引用传参进行处理，传递条件语句判断前的`bid`和`while`语句结束后的`bid`（如果没有被`while`包裹会传-1），当检索到`continue`和`break`时，对基本块跳转语句进行添加，同时结束同一`layer`的语句识别（因为必然不会被使用）。

## 小结

因为lab4对条件与跳转留了很大的拓展空间，所以lab6实现非常容易。
